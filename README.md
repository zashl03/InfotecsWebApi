# Тестовое задание: Web API для обработки временных рядов

## Обзор проекта

Этот проект представляет собой Web API на ASP.NET Core 8 для обработки и анализа данных временных рядов. Он позволяет загружать CSV-файлы, выполнять их валидацию, сохранять в базу данных PostgreSQL, рассчитывать интегральные показатели и предоставлять функциональность для запроса и фильтрации этих данных.

Проект демонстрирует навыки работы с .NET Web API, Entity Framework Core, PostgreSQL и Swagger.

## Функциональные возможности

*   **Загрузка CSV-файлов**: Прием CSV с данными (`Date;ExecutionTime;Value`), строгая валидация и сохранение в PostgreSQL.
*   **Расчет интегральных показателей**: Автоматический расчет дельты времени, среднего времени выполнения, среднего, медианного, максимального и минимального значений для каждого файла.
*   **Перезапись данных**: Существующие данные для файла с тем же именем перезаписываются.
*   **Получение результатов**: Эндпоинты для получения интегральных результатов с фильтрацией и последних 10 записей временных рядов.

## Используемые технологии

*   **Backend**: .NET 8 (ASP.NET Core Web API)
*   **База данных**: PostgreSQL
*   **ORM**: Entity Framework Core
*   **Документация API**: Swagger/OpenAPI
*   **Тестирование**: xUnit, Moq, EF Core In-Memory Database

## Структура проекта

Проект организован как .NET Solution, включающий:
*   `InfotecsWebApi`: Основной проект Web API.
*   `InfotecsWebApi.Tests`: Отдельный проект для Unit-тестов.

## Начало работы

### Предварительные требования

*   [.NET 8 SDK](https://dotnet.microsoft.com/download/dotnet/8.0)
*   [PostgreSQL](https://www.postgresql.org/download/) (установленный и запущенный)

### Установка и запуск

1.  **Клонируйте репозиторий:**
    ```bash
    git clone <URL_ВАШЕГО_РЕПОЗИТОРИЯ>
    cd <ИМЯ_ПАПКИ_РЕПОЗИТОРИЯ>
    ```
2.  **Настройте строку подключения к БД** в `InfotecsWebApi/appsettings.json`.
3.  **Примените миграции:** Перейдите в `InfotecsWebApi` и выполните `dotnet ef database update`.
4.  **Запустите приложение:** Перейдите в `InfotecsWebApi` и выполните `dotnet run`.

API будет доступен по `https://localhost:порт`, а Swagger UI по `https://localhost:порт/swagger`.

## API Эндпоинты

*   `POST /api/Data/upload`: Загрузка и обработка CSV-файла.
*   `GET /api/Data/results`: Получение интегральных результатов с фильтрацией.
*   `GET /api/Data/{fileName}`: Получение последних 10 значений для файла.

## Тестирование

Unit-тесты находятся в проекте `InfotecsWebApi.Tests`.

**Запуск тестов:**
```bash
cd InfotecsWebApi.Tests
dotnet test
```

## Автор

[Ваше Имя/Псевдоним]

## Лицензия

Этот проект распространяется под лицензией [Укажите лицензию, например, MIT](LICENSE).
